// ========================================
// ---------- MAIN ----------
// // ========================================
// ----- AOS -----
// ----------------------------------------
// AOS.init({
//   // Global settings:
//   disable: false, // accepts following values: 'phone', 'tablet', 'mobile', boolean, expression or function
//   startEvent: 'DOMContentLoaded', // name of the event dispatched on the document, that AOS should initialize on
//   initClassName: 'aos-init', // class applied after initialization
//   animatedClassName: 'aos-animate', // class applied on animation
//   useClassNames: false, // if true, will add content of `data-aos` as classes on scroll
//   disableMutationObserver: false, // disables automatic mutations' detections (advanced)
//   debounceDelay: 50, // the delay on debounce used while resizing window (advanced)
//   throttleDelay: 99, // the delay on throttle used while scrolling the page (advanced)
//   Settings that can be overridden on per-element basis, by `data-aos-*` attributes:
//   offset: 120, // offset (in px) from the original trigger point
//   delay: 0, // values from 0 to 3000, with step 50ms
//   duration: 800, // values from 0 to 3000, with step 50ms
//   easing: 'ease', // default easing for AOS animations
//   once: true, // whether animation should happen only once - while scrolling down
//   mirror: false, // whether elements should animate out while scrolling past them
//   anchorPlacement: 'top-bottom', // defines which position of the element regarding to window should trigger the animation
// });

// ----------------------------------------
// ----- END AOS -----
// ========================================
// ----- SWIPE -----
// ----------------------------------------
// ----------------------------------------
// ----------------------------------------
// ----- END SWIPE -----
// ========================================

// 
// ========================================
// ---------- VARIABLES ----------
// let windowWidthSwiper = document.documentElement.clientWidth;
// ---------- END VARIABLES ----------
// ========================================
// ---------- INDEX ----------
// ----------------------------------------
// ----- SLIDES -----
// ----------------------------------------
// ----- ADVANTAGES -----
// let u_swiper_advantages = document.querySelector('.js-swiper-advantages');

// function desktopSlider() {
//   if (window.innerWidth > 600 && u_swiper_advantages.dataset.desktop == "false") {
//     mySwiperAdvantages = new Swiper(u_swiper_advantages, {
//       slidesPerView: 4,
//       speed: 1000,
//       spaceBetween: 40,
//       loop: false,
//       autoplay: false,
//       breakpoints: {
//         601: {
//           slidesPerView: 2,
//           spaceBetween: 20
//         },
//         991: {
//           slidesPerView: 3,
//           spaceBetween: 40
//         },
//         1200: {
//           slidesPerView: 4,
//           spaceBetween: 40
//         }
//       }
//     });
//     u_swiper_advantages.dataset.desktop = 'true';
//   }
//   if (window.innerWidth <= 600) {
//     u_swiper_advantages.dataset.desktop = "false";
//     if (u_swiper_advantages.classList.contains('swiper-initialized')) {
//       mySwiperAdvantages.destroy();
//     }
//   }
// }
// desktopSlider();
// window.addEventListener('resize', () => {
//   desktopSlider();
// });
// ----- END ADVANTAGES -----
// ----------------------------------------
// ----- TWO SLIDERS -----
// let swiper_watch = document.querySelectorAll('.swiper-watch');
// let swiper_minute = document.querySelectorAll('.swiper-minute');

// swiper_watch.forEach((el) => {
//   let watch = new Swiper(el, {
//     slidesPerView: 5,
//     speed: 1000,
//     spaceBetween: 6,
//     loop: true,
//     autoplay: false,
//     direction: "vertical",
//     centeredSlides: true,
//   });
// })

// swiper_minute.forEach((el) => {
//   let minute = new Swiper(el, {
//     slidesPerView: 5,
//     speed: 1000,
//     spaceBetween: 6,
//     loop: true,
//     autoplay: false,
//     direction: "vertical",
//     centeredSlides: true,
//   });
// })

// ----- END TWO SLIDERS -----
// ----------------------------------------
// ----- END SLIDES -----
// ----------------------------------------
// ========================================







// ========================================
// ---------- INDEX ----------
// ----------------------------------------
// ---------- INPUT ----------
let btn_value_reset = document.getElementById('js-btn-clear');
let inp = document.getElementById('inp_val');

inp.addEventListener('keyup', function (e) {
  let input_value = inp.value;
  let value_len = input_value.length;
  if (value_len > 0) {
    btn_value_reset.classList.add('active');
  } else if (value_len < 1) {
    btn_value_reset.classList.remove('active');
  }
});

btn_value_reset.addEventListener('click', function (e) {
  e.preventDefault();
  inp.value = '';
  btn_value_reset.classList.remove('active');
});

// ---------- END INPUT ----------
// ----------------------------------------
function set_interval(interval) {
    var image = document.getElementById("img");

    function updateImage() {
        image.src = image.src.split("?")[0] + "?" + new Date().getTime();
    }

    setInterval(updateImage, interval);
}

function reload(){
    var container = document.getElementById("frame_container");
    var content = container.innerHTML;
    container.innerHTML= content;

   //this line is to watch the result in console , you can remove it later
    console.log("Refreshed");
}

// ---------- BUTTONS ----------
let btn0 = document.getElementById('btn-0');
let btn1 = document.getElementById('btn-1');
let btn2 = document.getElementById('btn-2');
let btn3 = document.getElementById('btn-3');
let btn4 = document.getElementById('upload-btn-label');

//btn4.addEventListener('load', function (e) {
//  e.preventDefault();
//  inp.value = '';
//  inp.value = 'asdfasdf';
//  })

function uploadSettings(){
    var fileInput = document.getElementById('upload-btn')
    //console.log(fileInput.files[0].name)
    inp.value = fileInput.files[0].name;

    let xhr = new XMLHttpRequest();
    xhr.open("POST", "/init");
    //xhr.setRequestHeader("Content-Type", "multipart/form-data");
    var formData = new FormData();
    //formData.append("text", 'hello');
    formData.append("file", fileInput.files[0], fileInput.files[0].name);

    //console.log(formData.name)
    //var data = JSON.stringify({"files": fileInput.files[0]});
    xhr.send(formData);
}

btn0.addEventListener('click', function (e) {
  e.preventDefault();

  let xhr = new XMLHttpRequest();
  xhr.open("POST", "/init");
  xhr.setRequestHeader("Accept", "application/json");
  xhr.setRequestHeader("Content-Type", "application/json");

xhr.onreadystatechange = function () {
  if (xhr.readyState === 4) {
    console.log(xhr.status);
    console.log(xhr.responseText);
  }};

var data = JSON.stringify({"video_url": inp.value});

xhr.send(data);

  //alert('Нажата на кнопку №0');
});



btn1.addEventListener('click', function (e) {
    e.preventDefault();
    let xhr = new XMLHttpRequest();
    xhr.open("GET", "/set_mode/1");
    xhr.send();
    // window.location.reload();
});
btn2.addEventListener('click', function (e) {
    e.preventDefault();
    let xhr = new XMLHttpRequest();
    xhr.open("GET", "/set_mode/2");
    xhr.send();
    // window.location.reload();
});
btn3.addEventListener('click', function (e) {
    e.preventDefault();
    let xhr = new XMLHttpRequest();
    xhr.open("GET", "/set_mode/3");
    xhr.send();
    // window.location.reload();
});

